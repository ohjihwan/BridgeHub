# BridgeHub 통합 환경변수 설정
# Domain: bridgehub.asia

# 🌐 서버 포트 설정

# API Server (Spring Boot)
API_SERVER_PORT=7100

# Frontend Main
FRONTEND_PORT=7000

# Frontend Admin  
ADMIN_PORT=7700

# Socket Server
SOCKET_PORT=7500

# RTC Server
RTC_PORT=7600

# 🔗 서버 URL 설정 (개발환경)

API_BASE_URL=http://localhost:7100
SOCKET_SERVER_URL=http://localhost:7500
RTC_SERVER_URL=http://localhost:7600
FRONTEND_URL=http://localhost:7000
ADMIN_URL=http://localhost:7700

# ===========================================
# 🔗 서버 URL 설정 (프로덕션 - bridgehub.asia)
# ===========================================
# PROD_API_BASE_URL=https://bridgehub.asia/api
# PROD_SOCKET_SERVER_URL=https://bridgehub.asia/socket
# PROD_RTC_SERVER_URL=https://bridgehub.asia/rtc
# PROD_FRONTEND_URL=https://bridgehub.asia
# PROD_ADMIN_URL=https://admin.bridgehub.asia


# 🗄️ 데이터베이스 설정

# MySQL 설정
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=1234
MYSQL_DATABASE=thebridgehub
DATABASE_URL=jdbc:mysql://localhost:3306/thebridgehub?serverTimezone=Asia/Seoul&characterEncoding=UTF-8

# MongoDB 설정 (Socket Server용)
MONGODB_URI=mongodb+srv://thebridgehub:1111@cluster0.ed1m1eg.mongodb.net/admin?retryWrites=true&loadBalanced=false&replicaSet=atlas-9s1dlv-shard-0&readPreference=primary&srvServiceName=mongodb&connectTimeoutMS=10000&w=majority&authSource=admin&authMechanism=SCRAM-SHA-1
DB_NAME=thebridgehub


# 🔐 JWT 및 보안 설정
JWT_SECRET=5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437
JWT_EXPIRES_IN=24h
JWT_EXPIRATION=86400000

# 시스템 토큰 (서버간 통신용)
SYSTEM_TOKEN=system-token-for-socket-server


# 📧 이메일 설정 (Gmail)
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=bglyk83@gmail.com
MAIL_PASSWORD=ipbeaplyaqbqmdsy
MAIL_SMTP_AUTH=true
MAIL_SMTP_STARTTLS_ENABLE=false


# 🎥 WebRTC 및 미디어 설정
# mediasoup 설정
MEDIASOUP_MIN_PORT=40000
MEDIASOUP_MAX_PORT=49999
MEDIASOUP_LOG_LEVEL=warn
LISTEN_IP=0.0.0.0
ANNOUNCED_IP=127.0.0.1

# STUN/TURN 서버 설정 (개발환경)
STUN_HOST=stun.l.google.com
STUN_PORT=19302
TURN_HOST=
TURN_PORT=3478
TURN_USER=bridgehub
TURN_SECRET=bridgehub_secret_123
TURN_REALM=localhost

# STUN/TURN 서버 설정 (프로덕션 - bridgehub.asia)
# PROD_STUN_HOST=bridgehub.asia
# PROD_TURN_HOST=turn.bridgehub.asia
# PROD_TURN_REALM=bridgehub.asia
# PROD_ANNOUNCED_IP=54.180.81.132

# 룸 설정
MAX_PEERS_PER_ROOM=10
MAX_ROOMS=100


# 🌐 CORS 설정
CORS_ORIGINS=http://localhost:7000,http://localhost:7700,http://localhost:7500,http://localhost:7600,http://127.0.0.1:5500,http://localhost:5500

# 허용된 도메인 (프로덕션)
ALLOWED_ORIGINS=http://localhost:7000,http://localhost:7700,https://bridgehub.asia,https://www.bridgehub.asia,https://admin.bridgehub.asia


# 📁 파일 업로드 설정
FILE_UPLOAD_PATH=uploads
FILE_MAX_SIZE=10485760
FILE_ALLOWED_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,txt,zip,rar


# 📝 로깅 설정
LOG_LEVEL=info
LOG_FILE=logs/bridgehub.log
CHAT_LOG_PATH=./chat-logs
CHAT_LOG_CLEANUP_DAYS=1
CHAT_LOG_MAX_FILE_SIZE=104857600


# ⚡ 성능 설정
MAX_CONNECTIONS=1000
MESSAGE_QUEUE_SIZE=1000
RETRY_ATTEMPTS=3
RETRY_DELAY=5000


# 🔧 개발/프로덕션 환경 설정
NODE_ENV=development
SPRING_PROFILES_ACTIVE=development

# ===========================================
# 🔒 SSL 설정 (프로덕션용 - bridgehub.asia)
# ===========================================
# SSL_KEY_PATH=/etc/letsencrypt/live/bridgehub.asia/privkey.pem
# SSL_CERT_PATH=/etc/letsencrypt/live/bridgehub.asia/fullchain.pem


# 🎯 클라이언트 환경변수 (React/Next.js)
# API 연결
REACT_APP_API_URL=http://localhost:7100/api
NEXT_PUBLIC_API_URL=http://localhost:7100/api

# Socket 연결
REACT_APP_SOCKET_URL=http://localhost:7500
NEXT_PUBLIC_SOCKET_URL=http://localhost:7500

# RTC 연결
REACT_APP_RTC_URL=http://localhost:7600
NEXT_PUBLIC_RTC_URL=http://localhost:7600
NEXT_PUBLIC_SIGNALING_URL=http://localhost:7600

# TURN 서버 (클라이언트용)
NEXT_PUBLIC_TURN_URL=turn:stun.l.google.com:19302
NEXT_PUBLIC_TURN_USER=
NEXT_PUBLIC_TURN_PASS=

# 앱 정보
REACT_APP_NAME=BridgeHub
REACT_APP_VERSION=1.0.0
REACT_APP_ENVIRONMENT=development

# 기능 토글
REACT_APP_ENABLE_CHAT=true
REACT_APP_ENABLE_SCREEN_SHARE=true
REACT_APP_ENABLE_RECORDING=false
REACT_APP_ENABLE_USER_MANAGEMENT=true
REACT_APP_ENABLE_ROOM_MONITORING=true
REACT_APP_ENABLE_ANALYTICS=true

# ===========================================
# 🚀 프로덕션 환경변수 (bridgehub.asia)
# ===========================================
# NODE_ENV=production
# SPRING_PROFILES_ACTIVE=production
# ANNOUNCED_IP=54.180.81.132
# REACT_APP_API_URL=https://bridgehub.asia/api
# NEXT_PUBLIC_API_URL=https://bridgehub.asia/api
# NEXT_PUBLIC_SOCKET_URL=https://bridgehub.asia/socket
# NEXT_PUBLIC_RTC_URL=https://bridgehub.asia/rtc
# NEXT_PUBLIC_SIGNALING_URL=https://bridgehub.asia/rtc
# NEXT_PUBLIC_TURN_URL=turn:turn.bridgehub.asia:3478
# NEXT_PUBLIC_TURN_USER=bridgehub
# NEXT_PUBLIC_TURN_PASS=bridgehub_secret_123
